<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cookie 49.1</title>
</head>

<body>
    <input type="text">
    <a href="sity.html">Sity</a>
    
    <script>
        let inp = document.querySelector('input');
        inp.addEventListener('keydown', (e) =>{
            if(e.code == "Enter"){
                setCookie('sity', inp.value, { secure: true, 'max-age': 3600*24 });
                inp.value = "";
            }
        })

        function setCookie(name, value, options = {}) {

            options = {
                path: '/',
                ...options
            };

            if (options.expires instanceof Date) {
                options.expires = options.expires.toUTCString();
            }

            let updatedCookie = encodeURIComponent(name) + "=" + encodeURIComponent(value);

            for (let optionKey in options) {
                updatedCookie += "; " + optionKey;
                let optionValue = options[optionKey];
                if (optionValue !== true) {
                    updatedCookie += "=" + optionValue;
                }
            }

            document.cookie = updatedCookie;
        }

        


    </script>
</body>

</html>